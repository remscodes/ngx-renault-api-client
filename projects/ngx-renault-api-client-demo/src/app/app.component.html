<div class="flex flex-col gap-2 p-2">

  <div class="flex flex-col gap-4 overflow-auto p-4 items-center border-4">

    <span class="font-bold">Gigya</span>

    <div class="panel flex-1">

      <span class="font-bold">Login</span>

      <form class="flex flex-row gap-4" [formGroup]="formLogin" (ngSubmit)="login()">

        <input id="user-text-field"
               type="email"
               formControlName="login"
               placeholder="Email *">

        <input id="current-password"
               type="password"
               formControlName="password"
               placeholder="Mot de passe *">

        <button type="submit">
          <span>Send</span>
        </button>

        <button type="button" (click)="getInfos()">
          <span>Get infos</span>
        </button>
      </form>
    </div>
  </div>

  <div *ngIf="token()" class="flex flex-col gap-4 overflow-auto p-4 items-center border-4">

    <span class="font-bold">Kamereon</span>

    <div class="flex flex-row gap-4">

      <form [formGroup]="formAccounts" class="panel flex-1" (ngSubmit)="selectAccount()">

        <span class="font-bold">Accounts</span>

        <div *ngFor="let acc of accounts()" class="flex flex-row gap-2">
          <input type="radio" [value]="acc.accountId" formControlName="accountId">
          <span>{{acc.accountType}}</span>
        </div>

        <button type="submit">Select</button>
      </form>

      <form [formGroup]="formVins" class="panel flex flex-col flex-1" (ngSubmit)="selectVin()">

        <span class="font-bold">Vin</span>

        <div *ngFor="let vin of vins()" class="flex flex-row gap-2">
          <input type="radio" [value]="vin" formControlName="vin">
          <span>{{vin}}</span>
        </div>

        <button type="submit">Select</button>
      </form>
    </div>

    <div *ngIf="vin()" class="panel flex-1">

      <span class="font-bold">Battery Status</span>

      <span>{{batteryStatus | json}}</span>

      <button (click)="getBatteryStatus()">Get</button>
    </div>
  </div>
</div>
